[[local|localrc]]

# Basic Setup
HOST_IP=<HOST_IP>
ADMIN_PASSWORD=<PASSWORD>
MYSQL_PASSWORD=<PASSWORD>
SERVICE_PASSWORD=<PASSWORD>
SERVICE_TOKEN=<SERVICE_TOKEN>
RABBIT_PASSWORD=<PASSWORD>

IMAGE_URLS+=",http://download.fedoraproject.org/pub/fedora/linux/releases/21/Cloud/Images/x86_64/Fedora-Cloud-Base-20141203-21.x86_64.qcow2"

# Logging
LOGFILE=/opt/stack/logs/stack.sh.log
SYSLOG=True

# Neutron Setup
disable_service n-net
ENABLED_SERVICES+=,q-svc,q-dhcp,q-meta,neutron,q-l3,q-agt

OVS_PHYSICAL_BRIDGE=br-ex
Q_USE_PROVIDERNET_FOR_PUBLIC=True
PUBLIC_BRIDGE=br-ex
OVS_BRIDGE_MAPPINGS=public:br-ex

# Network Setup
PUBLIC_NETWORK_GATEWAY=<GATEWAY_IP_ADDR>
FLOATING_RANGE=<GATEWAY_IP_RANGE>

# Heat
enable_service heat h-eng h-api h-api-cfn h-api-cw

# Ceilometer
enable_service ceilometer-anotification ceilometer-acompute ceilometer-acentral ceilometer-collector ceilometer-api
enable_service ceilometer-alarm-notifier ceilometer-alarm-evaluator
CEILOMETER_NOTIFICATION_TOPICS=notifications,profiler

# Multi Node Setup
MULTI_HOST=1
FLAT_INTERFACE=<ETH1>

# ODL
Q_ML2_PLUGIN_MECHANISM_DRIVERS=opendaylight,logger
enable_plugin networking-odl https://github.com/openstack/networking-odl
ODL_L3=False
ML2_L3_PLUGIN="neutron.services.l3_router.l3_router_plugin.L3RouterPlugin"

[[post-config|/etc/neutron/plugins/ml2/ml2_conf.ini]]
[agent]
minimize_polling=True

[ml2_odl]
url=http://$HOST_IP:8087/controller/nb/v2/neutron
username=admin
password=admin
